package implementations;

import java.util.Arrays;
import java.util.List;
import java.util.Map;

import interfaces.IEbnfInterface;

public class EbnfImplementation implements IEbnfInterface{

	
	
	public String testGrammar = 
			"<expression> := <term>,(('+' | '-'),<term>)* ;"+
			"<term>      := <factor>,( ('*'|'/'),<factor>)* ;"+
			"<factor>     := <constant> | <variable> | '(',<expression>,')' ;"+
			"<variable>   := 'x' | 'y' | 'z' ;"+
			"<constant>   := <digit>,<digit>+ ;"+
			"<digit>      := '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ;";
	

	
	@Override
	public List<String> getRows(String text){
		List<String> list = null;
		list = Arrays.asList(text.split(";"));
		return list;
	}
	
	@Override
	public Map<String, List<String>> mapRules(String text){
		Map<String, List<String>> rules = null;
		List<String> rows = getRows(text);

		for(String row : rows){
			List<String> splitted = Arrays.asList(row.split(":="));

			rules.put(splitted[0], splitted[1]);
		}
		
		return rules;
	}
	
	
}
